;Biryani
;Made by Aliyan
;Agar parh liya hai toh Biryani bhi khilani hai

START:  
  MOV AL, 80H ;PORTA AS OUTPUT 
  OUT 0A3H, AL ;WRITE BYTE TO PPI’S CW REGISTER 
RUN_MOTOR: 
  MOV AL, 01H ;ENERGISE POLE 1 ONLY 
  OUT 0A0H, AL ;WRITE VALUE TO PORTA’S LOWER HALF 
  CALL DELAY 
MOV AL, 03H ;Energise Pole 1 and 2 taakay 45 degree half step
OUT 0A0H,AL
CALL DELAY
  MOV AL, 02H ;ENERGISE POLE 2 ONLY 
  OUT 0A0H, AL ;WRITE VALUE TO PORTA’S LOWER HALF 
  CALL DELAY
MOV AL, 06H ;Energise Pole 2 and 3 taakay 45 degree half step
OUT 0A0H,AL
CALL DELAY 
  MOV AL, 04H ;ENERGISE POLE 3 ONLY 
  OUT 0A0H, AL ;WRITE VALUE TO PORTA’S LOWER HALF 
  CALL DELAY 
MOV AL, 0CH ;Energise Pole 3 and 4 taakay 45 degree half step
OUT 0A0H,AL
CALL DELAY
  MOV AL, 08H ;ENERGISE POLE 4 ONLY 
  OUT 0A0H, AL ;WRITE VALUE TO PORTA’S LOWER HALF 
  CALL DELAY 
MOV AL, 09H ;Energise Pole 4 and 1 taakay 45 degree half step
OUT 0A0H,AL
CALL DELAY
  JMP RUN_MOTOR 
;SUBROUTINE FOR CREATING DELAY BETWEEN EACH STEP 
DELAY: 
  MOV CX, 0FFFFH 
HERE:  LOOP HERE 
  RET 